# 投影仪图片模式使用说明

## 功能说明

现在支持在投影仪上显示书架照片，找到的书籍会用**白色高亮**显示，其他区域会变暗（黑色半透明）。

## 使用方法

### 1. 准备书架照片

将你的书架照片放在项目目录中，支持的格式：
- `.jpg` / `.jpeg`
- `.png`

### 2. 启动程序（图片模式）

#### 方式一：指定图片路径
```bash
cd /Users/zhouyinyin/Downloads/booksearch
python3 main.py --image <你的图片路径> --test
```

例如：
```bash
python3 main.py --image bookshelf.jpg --test
python3 main.py --image /path/to/your/bookshelf.png --test
```

#### 方式二：使用默认文件名
如果图片文件名是以下之一，程序会自动找到：
- `bookshelf.jpg`
- `bookshelf.png`
- `shelf.jpg`
- `shelf.png`
- `book.jpg`
- `book.png`

```bash
python3 main.py --image bookshelf.jpg --test
```

#### 方式三：语音识别模式（图片模式）
```bash
python3 main.py --image bookshelf.jpg
```

## 显示效果

- ✅ **找到的书籍**：白色高亮显示，带白色边框
- ⬛ **其他区域**：变暗（黑色半透明，80%透明度）
- 📺 **全屏显示**：自动全屏显示在投影仪上
- 📝 **书名标签**：在书籍上方显示白色书名

## 注意事项

1. **图片路径**：确保图片文件存在且可读
2. **坐标匹配**：书籍位置坐标需要根据实际照片中的位置调整（编辑 `book_database.py`）
3. **全屏模式**：窗口会自动全屏，按 `q` 或 `ESC` 键关闭
4. **投影仪连接**：确保投影仪已连接并设置为扩展显示器

## 调整书籍位置坐标

如果找到的书籍高亮位置不准确，需要编辑 `book_database.py` 中的坐标：

```python
"book_name": {
    "position": (x, y, width, height),  # 归一化坐标 (0-1)
    "shelf": 0,  # 0 = 上排, 1 = 下排
    "full_name": "完整书名"
}
```

坐标说明：
- `x, y`: 书籍在图片中的中心位置（0-1之间）
- `width, height`: 书籍的宽度和高度（0-1之间）

## 示例

```bash
# 测试模式（键盘输入）
python3 main.py --image bookshelf.jpg --test

# 语音识别模式
python3 main.py --image bookshelf.jpg
```

## 退出程序

- 在测试模式下：输入 `quit`
- 关闭投影窗口：按 `q` 或 `ESC` 键
- 强制退出：按 `Ctrl+C`

