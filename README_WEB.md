# 书籍管理系统 Web 版本

这是一个基于 Web 的书籍管理系统，可以可视化编辑书籍位置、书名和字体样式。

## 功能特性

- 📍 **可视化编辑位置**：点击并拖拽书籍矩形来调整位置
- ✏️ **编辑书名**：直接在界面上修改书籍名称
- 🎨 **调整字体样式**：修改字体大小、粗细、书名框尺寸等
- 👁️ **实时预览**：查看高亮效果
- 💾 **保存更改**：一键保存所有修改到数据库

## 安装依赖

```bash
pip install -r requirements.txt
```

## 启动 Web 服务器

```bash
python3 app.py
```

然后在浏览器中打开：`http://localhost:5001`

**注意**：如果5001端口也被占用，可以修改`app.py`最后一行的端口号。

## 使用方法

### 1. 选择书籍
- 在右侧书籍列表中点击任意书籍
- 书籍会在图片上以蓝色高亮显示

### 2. 调整位置
- **方法一**：直接拖拽图片上的蓝色矩形
- **方法二**：在右侧编辑面板中修改 X、Y、宽度、高度数值

### 3. 编辑书名
- 在"完整书名"文本框中修改书名

### 4. 调整显示设置
- **书名框宽度**：调整书名显示框的宽度（像素）
- **书名框高度**：调整书名显示框的高度（像素）
- **字体大小**：调整字体大小（1.0-3.0）
- **字体粗细**：调整字体粗细（1-10）

### 5. 预览效果
- 点击"预览效果"按钮，会在新窗口中打开高亮图片

### 6. 保存更改
- 点击"保存所有更改"按钮，将所有修改保存到 `book_database.py` 文件

## 注意事项

- 修改位置时，坐标是归一化的（0-1之间）
- X、Y 表示书籍的中心位置
- 宽度和高度表示书籍的尺寸（相对于图片尺寸）
- 保存前会自动备份 `book_database.py` 文件

## 文件结构

```
booksearch1/
├── app.py                 # Flask Web 应用
├── templates/
│   └── index.html        # 主页面模板
├── static/
│   ├── css/
│   │   └── style.css     # 样式文件
│   └── js/
│       └── app.js        # 前端 JavaScript
└── book_database.py      # 书籍数据库（会被修改）
```

## 技术栈

- **后端**：Flask (Python)
- **前端**：HTML5, CSS3, JavaScript (Vanilla)
- **图像处理**：OpenCV (通过 projector_simple.py)

